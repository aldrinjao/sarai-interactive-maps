<div class="map__control map__control--panel"
    [@controlWrapper]="controlWrapperAnimationState"
    #controlwrapper>

    <section class="map__control__section">
        <h2 class="map__control__title title">
            <span class="title__text">Rainfall Map</span>
            <span class="pull-right title__icon title__icon--actionable" (click)="onHideButtonClick($event)">
                <i class="glyphicon glyphicon-chevron-left" placement="bottom" tooltip="Hide"></i>
            </span>
        </h2>

        <div class="map__control__body">
            <form class="rainfall-map-filter-form smart-form" [formGroup]="filterForm" (ngSubmit)="processRequest()">
                <div class="form-group">
                    <label for="ec_scan_date_txt">Scan Date</label>
                    <app-forms-flatpickr name="ec_scan_date_txt" formControlName="scanDate" [options]="datepickerOpts"></app-forms-flatpickr>
                    <div class="help-block-wrapper">
                        <span class="help-block" *ngIf="scanDate.hasError('required') && scanDate.touched">
                            Scan Date is required.
                        </span>
                        <span class="help-block" *ngIf="scanDate.hasError('dateISO') && scanDate.touched">
                            Scan Date must be in YYYY-MM-DD format.
                        </span>
                    </div>
                </div>

                <div class="form-group form-group--btn-group">
                    <button type="submit" class="btn btn-success btn-block" [disabled]="!filterForm.valid">Filter</button>
                </div>
            </form>
        </div>
    </section>
</div>


